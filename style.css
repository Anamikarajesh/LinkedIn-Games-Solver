:root{
  --bg-dark:#0f0c29;
  --card-glass:rgba(255,255,255,0.08);
  :root{
    --bg-dark:#0f0c29;
    --card-glass:rgba(255,255,255,0.08);
    --accent-purple:#8b9eff;
    --accent-pink:#a78bfa;
    --text-primary:#ffffff;
    --text-secondary:#ffffff;
  }
  *{box-sizing:border-box;font-family:'Segoe UI',system-ui,sans-serif}
  body{
    background:linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
    margin:0;
    padding:20px;
    color:var(--text-primary);
    min-height:100vh;
  }
  .container{max-width:1100px;margin:0 auto;padding:20px}
  h1{
    font-size:2rem;
    margin:12px 0 24px;
    background:linear-gradient(135deg, #ffffff 0%, #e0d0ff 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    font-weight:700;
  }
  .game{display:flex;gap:28px;align-items:flex-start;flex-wrap:wrap}
  .grid{
    display:grid;
    grid-template-columns:repeat(6,58px);
    grid-template-rows:repeat(6,58px);
    gap:0px;
    padding:20px;
    background:#1a1a2e;
    border-radius:12px;
    border:3px solid #4a4aff;
    box-shadow:0 8px 32px rgba(0,0,0,0.5);
  }
  .cell{
    width:58px;
    height:58px;
    background:#2d2d44;
    border:1px solid #3a3a5a;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    font-weight:700;
    cursor:pointer;
    transition:all 0.15s ease;
    color:#ffffff;
    position:relative;
  }
  .cell:hover{
    background:#4a4aff;
    border-color:#6a6aff;
  }
  .cell.prefilled{
    background:rgba(167,139,250,0.2);
    color:#ffffff;
    font-weight:700;
  }
  .cell.selected{
    background:rgba(139,158,255,0.25);
    box-shadow:0 0 20px rgba(139,158,255,0.5);
  }
  .cell.selected::after{
    content:"";
    position:absolute;
    inset:0;
    border:3px solid rgba(139,158,255,0.7);
    pointer-events:none;
    border-radius:inherit;
  }
  .cell.invalid{
    background:rgba(255,120,120,0.25);
    color:#ffffff;
    border-color:rgba(255,120,120,0.6);
  }
  .pad{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:16px}
  .pad button{
    width:52px;
    height:48px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.25);
    background:rgba(139,158,255,0.2);
    backdrop-filter:blur(10px);
    color:#ffffff;
    font-weight:700;
    font-size:18px;
    cursor:pointer;
    transition:all 0.2s ease;
  }
  .pad button:hover{
    background:rgba(139,158,255,0.35);
    border-color:rgba(139,158,255,0.6);
    transform:translateY(-2px);
    box-shadow:0 4px 12px rgba(139,158,255,0.4);
  }
  .pad button:active{
    transform:translateY(0);
  }
  .controls{padding-left:12px}
  .actions{display:flex;flex-direction:column;gap:10px}
  .actions button{
    padding:12px 18px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.25);
    background:linear-gradient(135deg, #8b9eff 0%, #a78bfa 100%);
    color:#fff;
    font-weight:600;
    cursor:pointer;
    transition:all 0.3s ease;
    box-shadow:0 4px 15px rgba(139,158,255,0.4);
  }
  .actions button:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 25px rgba(139,158,255,0.6);
  }
  .actions button:active{
    transform:translateY(0);
  }
  .info{display:flex;gap:16px;margin-top:24px;flex-wrap:wrap}
  .panel{
    flex:1;
    min-width:300px;
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(10px);
    padding:16px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.15);
    min-height:140px;
  }
  .panel h3{
    margin:0 0 12px;
    color:#ffffff;
    font-size:1.1rem;
  }
  #log{
    max-height:320px;
    overflow:auto;
    font-family:'Consolas','Monaco',monospace;
    font-size:13px;
    color:#ffffff;
    line-height:1.6;
  }
  #log div{
    padding:4px 0;
    border-bottom:1px solid rgba(255,255,255,0.05);
  }
  #progress{
    font-family:'Consolas','Monaco',monospace;
    font-size:13px;
    color:#ffffff;
  }
  footer{
    margin-top:32px;
    color:rgba(255,255,255,0.7);
    text-align:center;
  }
  footer small{
    font-size:0.85rem;
  }
  /* Back link styling */
  a{
    color:#ffffff;
    text-decoration:none;
    transition:color 0.2s ease;
  }
  a:hover{
    color:#c4b5fd;
  }

  a:hover{
    color:#f8faff;
    text-shadow:0 0 8px rgba(255,255,255,0.85);
  }

  /* thicker box borders for 3x2 regions */
  .grid .cell:nth-child(3n){border-right:2px solid rgba(139,158,255,0.5)}
  .grid .cell:nth-child(6n+3){border-right:2px solid rgba(139,158,255,0.5)}
  /* horizontal separation: thick line after rows 2 and 4 */
  .grid .cell:nth-child(7), .grid .cell:nth-child(8), .grid .cell:nth-child(9), 
  .grid .cell:nth-child(10), .grid .cell:nth-child(11), .grid .cell:nth-child(12),
  .grid .cell:nth-child(19), .grid .cell:nth-child(20), .grid .cell:nth-child(21), 
  .grid .cell:nth-child(22), .grid .cell:nth-child(23), .grid .cell:nth-child(24) {
    border-bottom:2px solid rgba(139,158,255,0.5);
  }

    /* ensure outer border fully encapsulates grid */
    .grid .cell:nth-child(-n+6){border-top:3px solid #4a4aff}
    .grid .cell:nth-child(n+31){border-bottom:3px solid #4a4aff}
    .grid .cell:nth-child(6n+1){border-left:3px solid #4a4aff}
    .grid .cell:nth-child(6n){border-right:3px solid #4a4aff}

  /* Scrollbar styling for dark theme */
  #log::-webkit-scrollbar{
    width:8px;
  }
  #log::-webkit-scrollbar-track{
    background:rgba(255,255,255,0.05);
    border-radius:4px;
  }
  #log::-webkit-scrollbar-thumb{
    background:rgba(139,158,255,0.4);
    border-radius:4px;
  }
  #log::-webkit-scrollbar-thumb:hover{
    background:rgba(139,158,255,0.6);
  }

  /* Responsive adjustments */
  @media(max-width:768px){
    .game{flex-direction:column}
    .grid{grid-template-columns:repeat(6,48px);grid-template-rows:repeat(6,48px)}
    .cell{width:48px;height:48px;font-size:16px}
    h1{font-size:1.6rem}
  }
}

