<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tango ‚Äî Sun & Moon (Pyodide)</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Extras to work alongside your provided grid/cell CSS */
    .board-wrap{ position:relative; display:inline-block; }
    #connectors{ position:absolute; inset:0; pointer-events:none; }
    .conn{ position:absolute; font-size:18px; opacity:.9; filter:drop-shadow(0 1px 1px rgba(0,0,0,.6)); }
    .conn.eq{ color:#22d3ee; }   /* '=' */
    .conn.op{ color:#fbbf24; }   /* '√ó' */
    .invalid{ outline:2px solid #ef4444 !important; box-shadow: inset 0 0 0 2px #ef4444 !important; }
  </style>
</head>
<body>
  <div class="container">
    <p><a href="index.html">‚óÄ Back</a></p>
    <h1>Tango ‚Äî Sun & Moon (6√ó6)</h1>

    <div class="game">
      <div class="board-wrap">
        <div id="grid" class="grid"></div>
        <div id="connectors"></div>
      </div>

      <div class="controls">
        <div class="pad" id="pad">
          <button data-sym="1">‚òÄÔ∏è</button>
          <button data-sym="0">üåô</button>
          <button id="clearCell">X</button>
        </div>

        <div class="actions">
          <button id="hintBtn" disabled>Hint (AI)</button>
          <button id="solveBtn" disabled>Solve (AI)</button>
          <button id="resetBtn">Clear</button>
          <button id="randomBtn">Random Puzzle</button>
        </div>
      </div>
    </div>

    <div class="info">
      <div class="panel">
        <h3>Constraints</h3>
        <div class="legend">
          ‚Ä¢ No three same symbols in a row/column.<br/>
          ‚Ä¢ Balance: each row/column has exactly three ‚òÄÔ∏è and three üåô.<br/>
          ‚Ä¢ <strong>=</strong> means same, <strong>√ó</strong> means opposite.
        </div>
        <div class="ineq-list">
          <div><strong>Equal (=)</strong>: <span id="eqList"></span></div>
          <div><strong>Opposite (√ó)</strong>: <span id="opList"></span></div>
        </div>
      </div>
      <div class="panel">
        <h3>AI Progress</h3>
        <div id="log" class="log"></div>
      </div>
    </div>

    <footer>
      <small>Python (Pyodide) ‚Ä¢ Backtracking + MRV + forward checks.</small>
    </footer>
  </div>

  <!-- Success modal -->
  <div id="successModal" style="position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); z-index:60;">
    <div style="background:#0b1220; padding:20px; border-radius:12px; min-width:260px; text-align:center; box-shadow:0 10px 30px rgba(0,0,0,0.6);">
      <h2 style="margin:0 0 8px">üéâ Puzzle Solved!</h2>
      <p style="margin:0 0 12px">You've completed the Tango puzzle correctly.</p>
      <button id="closeSuccess" style="padding:8px 12px; border-radius:8px; background:#10b981; color:white; border:none; cursor:pointer;">Close</button>
    </div>
  </div>

  <!-- Small loading overlay -->
  <div id="loader" style="position:fixed; right:18px; bottom:18px; background:#0b1220; padding:8px 12px; border-radius:999px; box-shadow:0 6px 18px rgba(0,0,0,0.5); color:#cbd5e1; display:none; z-index:70;">
    Loading engine...
  </div>

  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
  <script src="tango_sunmoon.js"></script>
</body>
</html>
